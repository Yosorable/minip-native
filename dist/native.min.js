"use strict";window.InitMinipNative=function(t){return new Promise((e,r)=>{try{var n=function(i){window.MinipNative=window.MinipNative||{closeApp(){return new Promise((r,n)=>{i.callHandler("close",null,e=>{e?r(e):n()})})},showAppDetail(){return new Promise((r,n)=>{i.callHandler("showAppDetail",null,e=>{e?r(e):n&&n()})})},navigateTo(e,l){return new Promise((r,n)=>{i.callHandler("navigateTo",{page:e,title:l},e=>{e?r(e):n&&n()})})},navigateBack(){i.callHandler("navigateBack")},openWeb(e){return new Promise((r,n)=>{i.callHandler("openWeb",{url:e},e=>{e?r(e):n&&n()})})},playVideo(e){return new Promise((r,n)=>{i.callHandler("playVideo",{url:e},e=>{e?r(e):n&&n()})})},writeFile(e,l){return new Promise((r,n)=>{i.callHandler("writeFile",{filename:e,data:l},e=>{e?r(e):n&&n()})})},readFile(e){return new Promise((r,n)=>{i.callHandler("readFile",{filename:e},e=>{e?r(e):n&&n()})})},listFiles(e){return new Promise((r,n)=>{i.callHandler("listFiles",{path:e},e=>{e?r(e):n&&n()})})},HUD(e,l,a,t){return new Promise((r,n)=>{i.callHandler("HUD",{type:e,title:l,subTitle:a,delay:t},e=>{e?r(e):n&&n()})})},previewImage(e){return new Promise((r,n)=>{i.callHandler("previewImage",{url:e},e=>{e?r(e):n&&n()})})},setMemStore(e,l){return new Promise((r,n)=>{i.callHandler("setMemStore",{key:e,val:l},e=>{e?r(e):n&&n()})})},getMemStore(e){return new Promise((r,n)=>{i.callHandler("getMemStore",{key:e},e=>{e?r(e):n&&n()})})},delMemStore(e){return new Promise((r,n)=>{i.callHandler("delMemStore",{key:e},e=>{e?r(e):n&&n()})})},setKVStore(e,l){return new Promise((r,n)=>{i.callHandler("setKVStore",{key:e,val:l},e=>{e?r(e):n&&n()})})},getKVStore(e){return new Promise((r,n)=>{i.callHandler("getKVStore",{key:e},e=>{e?r(e):n&&n()})})},delKVStore(e){return new Promise((r,n)=>{i.callHandler("delKVStore",{key:e},e=>{e?r(e):n&&n()})})},enableRefreshControl(){return new Promise((r,n)=>{i.callHandler("enableRefreshControl",e=>{e?r(e):n&&n()})})},disableRefreshControl(){return new Promise((r,n)=>{i.callHandler("disableRefreshControl",e=>{e?r(e):n&&n()})})},startRefresh(){return new Promise((r,n)=>{i.callHandler("startRefresh",e=>{e?r(e):n&&n()})})},endRefresh(){return new Promise((r,n)=>{i.callHandler("endRefresh",e=>{e?r(e):n&&n()})})},selectPhoto(){return new Promise((r,n)=>{i.callHandler("selectPhoto",e=>{e?r(e):n&&n()})})},getSafeAreaInsets(){return new Promise((r,e)=>{i.callHandler("getSafeAreaInsets",e=>{r(e)})})},alert(e){return new Promise((r,n)=>{i.callHandler("alert",{config:JSON.stringify(e)},e=>{e?r(e):n&&n()})})},shortShake(){i.callHandler("shortShake")},localAuthentication(){return new Promise((r,n)=>{i.callHandler("localAuthentication",null,e=>{!0===e||!1===e?r(e):n&&n()})})},setObservableData(e){return new Promise(r=>{i.callHandler("setObservableData",e,e=>{r(e)})})}},e()};try{window.WKWebViewJavascriptBridge?n(window.WKWebViewJavascriptBridge):window.WKWVJBCallbacks?window.WKWVJBCallbacks.push(n):(window.WKWVJBCallbacks=[n],window.webkit.messageHandlers.iOS_Native_InjectJavascript.postMessage(null))}catch(e){let l="http://127.0.0.1:5000/minip-native-api";t&&(l=t);const a=fetch;window.fetch=function(e,r){return a(l,{method:"POST",body:JSON.stringify({apiName:"_fetch",params:{input:e,init:r}}),headers:{"content-type":"application/json"}})},n({callHandler(e,r,n){r instanceof Function&&!n&&(n=r,r=void 0),a(l,{method:"POST",body:JSON.stringify({apiName:e,params:r}),headers:{"content-type":"application/json"}}).then(e=>e.json()).then(e=>{e.result&&n&&n(e.result)})}})}}catch(e){r(e)}})};