"use strict";window.InitMinipNative=function(devServerApiUrl){return new Promise((resolve,reject)=>{function setupWKWebViewJavascriptBridge(callback){try{return window.WKWebViewJavascriptBridge?callback(window.WKWebViewJavascriptBridge):window.WKWVJBCallbacks?window.WKWVJBCallbacks.push(callback):(window.WKWVJBCallbacks=[callback],void window.webkit.messageHandlers.iOS_Native_InjectJavascript.postMessage(null))}catch(_a){let url="http://127.0.0.1:5000/minip-native-api";devServerApiUrl&&(url=devServerApiUrl);const originFetch=fetch;window.fetch=function(e,r){return originFetch(url,{method:"POST",body:JSON.stringify({apiName:"_fetch",params:{input:e,init:r}}),headers:{"content-type":"application/json"}})},callback({callHandler(apiName,params,call){params instanceof Function&&!call&&(call=params,params=void 0),originFetch(url,{method:"POST",body:JSON.stringify({apiName:apiName,params:params}),headers:{"content-type":"application/json"}}).then(e=>e.json()).then(res=>{res.result&&call&&call(res.result),res.code&&call&&eval(res.code)})}})}}try{setupWKWebViewJavascriptBridge(function(i){window.MinipNative=window.MinipNative||{closeApp(){return new Promise((r,l)=>{i.callHandler("close",null,e=>{e?r(e):l()})})},showAppDetail(){return new Promise((r,l)=>{i.callHandler("showAppDetail",null,e=>{e?r(e):l&&l()})})},navigateTo(e,a){return new Promise((r,l)=>{i.callHandler("navigateTo",{page:e,title:a},e=>{e?r(e):l&&l()})})},openWeb(e){return new Promise((r,l)=>{i.callHandler("openWeb",{url:e},e=>{e?r(e):l&&l()})})},playVideo(e){return new Promise((r,l)=>{i.callHandler("playVideo",{url:e},e=>{e?r(e):l&&l()})})},writeFile(e,a){return new Promise((r,l)=>{i.callHandler("writeFile",{filename:e,data:a},e=>{e?r(e):l&&l()})})},readFile(e){return new Promise((r,l)=>{i.callHandler("readFile",{filename:e},e=>{e?r(e):l&&l()})})},listFiles(e){return new Promise((r,l)=>{i.callHandler("listFiles",{path:e},e=>{e?r(e):l&&l()})})},HUD(e,a,n,t){return new Promise((r,l)=>{i.callHandler("HUD",{type:e,title:a,subTitle:n,delay:t},e=>{e?r(e):l&&l()})})},previewImage(e){return new Promise((r,l)=>{i.callHandler("previewImage",{url:e},e=>{e?r(e):l&&l()})})},setMemStore(e,a){return new Promise((r,l)=>{i.callHandler("setMemStore",{key:e,val:a},e=>{e?r(e):l&&l()})})},getMemStore(e){return new Promise((r,l)=>{i.callHandler("getMemStore",{key:e},e=>{e?r(e):l&&l()})})},delMemStore(e){return new Promise((r,l)=>{i.callHandler("delMemStore",{key:e},e=>{e?r(e):l&&l()})})},setKVStore(e,a){return new Promise((r,l)=>{i.callHandler("setKVStore",{key:e,val:a},e=>{e?r(e):l&&l()})})},getKVStore(e){return new Promise((r,l)=>{i.callHandler("getKVStore",{key:e},e=>{e?r(e):l&&l()})})},delKVStore(e){return new Promise((r,l)=>{i.callHandler("delKVStore",{key:e},e=>{e?r(e):l&&l()})})},enableRefreshControl(){return new Promise((r,l)=>{i.callHandler("enableRefreshControl",e=>{e?r(e):l&&l()})})},disableRefreshControl(){return new Promise((r,l)=>{i.callHandler("disableRefreshControl",e=>{e?r(e):l&&l()})})},startRefresh(){return new Promise((r,l)=>{i.callHandler("startRefresh",e=>{e?r(e):l&&l()})})},endRefresh(){return new Promise((r,l)=>{i.callHandler("endRefresh",e=>{e?r(e):l&&l()})})},selectPhoto(){return new Promise((r,l)=>{i.callHandler("selectPhoto",e=>{e?r(e):l&&l()})})},getSafeAreaInsets(){return new Promise((r,e)=>{i.callHandler("getSafeAreaInsets",e=>{r(e)})})},alert(e){return new Promise((r,l)=>{i.callHandler("alert",{config:JSON.stringify(e)},e=>{e?r(e):l&&l()})})},shortShake(){i.callHandler("shortShake")},localAuthentication(){return new Promise((r,l)=>{i.callHandler("localAuthentication",null,e=>{!0===e||!1===e?r(e):l&&l()})})}},resolve()})}catch(err){reject(err)}})};